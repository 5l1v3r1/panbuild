app-id: net.louib.panbuild
runtime: org.gnome.Platform
runtime-version: "3.36"
sdk: org.gnome.Sdk
command: panbuild
tags: []
cleanup: []
modules:
  -
    name: PyYAML
    buildsystem: simple
    build-commands:
      - pip3 install --prefix=/app --no-deps .
    sources:
      - type: archive
        url: https://files.pythonhosted.org/packages/64/c2/b80047c7ac2478f9501676c988a5411ed5572f35d1beff9cae07d321512c/PyYAML-5.3.1.tar.gz
        sha256: b8eac752c5e14d3eca0e6dd9199cd627518cb5ec06add0de9d32baeee6fe645d
  -
    name: flatpak-shared-modules
    buildsystem: simple
    build-commands:
      - echo "Not installing shared modules just yet."
    sources:
      - type: git
        url: https://github.com/flathub/shared-modules.git
        branch: master
  -
    name: flatpak-builder-tools
    buildsystem: simple
    build-commands:
      - echo "What do?"
      # Is /app/bin the place for that?
      - install "pip/flatpak-pip-generator" /app/bin/
    sources:
      - type: git
        url: https://github.com/flatpak/flatpak-builder-tools.git
        branch: master
    modules:
      -
        name: requirements-parser
        buildsystem: simple
        build-commands:
          - pip3 install --prefix=/app --no-deps .
        sources:
          - type: archive
            url: https://files.pythonhosted.org/packages/03/80/eb6ba1dd0429089436e90e556db50884ea21da060b10f2e5668c4cac99da/requirements-parser-0.2.0.tar.gz
            sha256: 5963ee895c2d05ae9f58d3fc641082fb38021618979d6a152b6b1398bd7d4ed4

  -
    name: panbuild
    buildsystem: simple
    build-commands:
      - cargo install
    sources:
      - type: git
        url: https://github.com/louib/panbuild.git
        branch: master
